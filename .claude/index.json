{
  "timestamp": "2025-10-21T10:56:05+08:00",
  "scanStrategy": "adaptive",
  "scanPhases": {
    "phaseA_inventory": {
      "completed": true,
      "fileCount": "估算 500+ 文件",
      "modulesDiscovered": 7
    },
    "phaseB_moduleScanning": {
      "completed": true,
      "modulesScanned": 7,
      "coverageRate": "100%"
    },
    "phaseC_deepDive": {
      "triggered": false,
      "reason": "中小型仓库，阶段 B 已满足需求"
    }
  },
  "rootModule": {
    "path": "/home/mrpzx/git/flutter/wallet/On_chain",
    "entryFile": "lib/on_chain.dart",
    "documentPath": "CLAUDE.md",
    "packageName": "on_chain",
    "version": "7.0.0",
    "description": "跨平台 Dart/Flutter 区块链开发包，支持 Ethereum、Tron、Solana、Filecoin",
    "dependencies": {
      "blockchain_utils": "^5.2.0"
    }
  },
  "modules": [
    {
      "name": "ethereum",
      "path": "lib/ethereum",
      "entryFile": "ethereum.dart",
      "documentPath": "lib/ethereum/CLAUDE.md",
      "responsibility": "Ethereum 网络支持（Legacy, EIP1559, EIP2930, EIP712, EIP4361）",
      "keyComponents": [
        "src/address/evm_address.dart",
        "src/keys/keys.dart",
        "src/transaction/eth_transaction.dart",
        "src/transaction/eth_transaction_builder.dart",
        "src/rpc/provider/provider.dart",
        "src/rlp/rlp.dart",
        "src/eip_4361/eip_4361.dart"
      ],
      "testDirectory": "test/etherum",
      "exampleDirectory": "example/lib/example/ethereum",
      "coverage": {
        "core": "100%",
        "rpc": "90%",
        "tests": "5 test files"
      }
    },
    {
      "name": "tron",
      "path": "lib/tron",
      "entryFile": "tron.dart",
      "documentPath": "lib/tron/CLAUDE.md",
      "responsibility": "Tron 网络支持，Protobuf 序列化，20+ 种原生合约",
      "keyComponents": [
        "src/address/tron_address.dart",
        "src/keys/keys.dart",
        "src/protbuf/encoder.dart",
        "src/provider/provider/provider.dart",
        "src/models/contract/transaction/transaction.dart"
      ],
      "testDirectory": "test/tron",
      "exampleDirectory": "example/lib/example/tron",
      "coverage": {
        "core": "100%",
        "contracts": "95%",
        "tests": "4 test files"
      }
    },
    {
      "name": "solana",
      "path": "lib/solana",
      "entryFile": "solana.dart",
      "documentPath": "lib/solana/CLAUDE.md",
      "responsibility": "Solana 网络支持，Borsh 序列化，20+ 预构建指令，Metaplex 集成",
      "keyComponents": [
        "src/address/sol_address.dart",
        "src/instructions/instructions.dart",
        "src/transaction/transaction.dart",
        "src/rpc/provider/provider.dart",
        "src/borsh_serialization/core/program_layout.dart"
      ],
      "testDirectory": null,
      "exampleDirectory": "example/lib/example/solana",
      "coverage": {
        "core": "100%",
        "instructions": "90%",
        "tests": "无独立测试"
      },
      "notes": "建议补充独立测试目录"
    },
    {
      "name": "filecoin",
      "path": "lib/filecoin",
      "entryFile": "filecoin.dart",
      "documentPath": "lib/filecoin/CLAUDE.md",
      "responsibility": "Filecoin 网络支持，多类型地址系统，CBOR 序列化，Eth 兼容层",
      "keyComponents": [
        "src/address/fil_address.dart",
        "src/address/address_converter.dart",
        "src/signer/fil_signer.dart",
        "src/transaction/fil_transaction.dart",
        "src/provider/provider.dart",
        "src/provider/methods/chain_methods.dart",
        "src/provider/methods/eth_methods.dart",
        "src/provider/methods/multisig_methods.dart"
      ],
      "testDirectory": "test/filecoin",
      "exampleDirectory": "example/lib/example/filecoin",
      "coverage": {
        "core": "100%",
        "rpc": "95%",
        "tests": "10 test files（最完整）"
      }
    },
    {
      "name": "solidity",
      "path": "lib/solidity",
      "entryFile": "solidity.dart",
      "documentPath": "lib/solidity/CLAUDE.md",
      "responsibility": "Solidity ABI 编解码，合约交互，EIP712 签名",
      "keyComponents": [
        "abi/abi.dart",
        "abi/core/abi.dart",
        "abi/types/",
        "contract/contract_abi.dart",
        "contract/fragments.dart",
        "abi/eip712/eip712.dart"
      ],
      "testDirectory": null,
      "exampleDirectory": "example/lib/example/contract",
      "coverage": {
        "core": "100%",
        "types": "100%",
        "tests": "无独立测试"
      },
      "notes": "ABI 编解码测试集成在 Ethereum 测试中"
    },
    {
      "name": "bcs",
      "path": "lib/bcs",
      "entryFile": "serialization.dart",
      "documentPath": "lib/bcs/CLAUDE.md",
      "responsibility": "Binary Canonical Serialization，Move 语言支持",
      "keyComponents": [
        "serialization/serialization.dart",
        "move/move.dart",
        "move/types/types.dart"
      ],
      "testDirectory": "test/move",
      "exampleDirectory": null,
      "coverage": {
        "core": "100%",
        "tests": "1 test file"
      },
      "notes": "建议补充示例代码"
    },
    {
      "name": "utils",
      "path": "lib/utils",
      "entryFile": "utils.dart",
      "documentPath": "lib/utils/CLAUDE.md",
      "responsibility": "跨模块共享工具（数字处理、Map 操作）",
      "keyComponents": [
        "utils/utils.dart",
        "utils/number_utils.dart",
        "utils/map_utils.dart"
      ],
      "testDirectory": null,
      "exampleDirectory": null,
      "coverage": {
        "core": "100%",
        "tests": "无独立测试"
      },
      "notes": "被所有模块引用"
    }
  ],
  "globalTestStrategy": {
    "testFramework": "dart test",
    "testDirectories": [
      "test/etherum",
      "test/tron",
      "test/filecoin",
      "test/move"
    ],
    "exampleDirectory": "example/lib/example",
    "totalTestFiles": 20,
    "coverage": {
      "ethereum": "5 files",
      "tron": "4 files",
      "filecoin": "10 files",
      "move": "1 file",
      "solana": "无",
      "solidity": "无",
      "utils": "无"
    }
  },
  "exampleCodeIndex": {
    "hdWallet": [
      "example/lib/example/ethereum/hd_wallet.dart",
      "example/lib/example/tron/hd_wallet_example.dart",
      "example/lib/example/solana/hd_wallet_example.dart"
    ],
    "contractInteraction": [
      "example/lib/example/contract/call_example.dart",
      "example/lib/example/contract/call_with_fragment_example.dart"
    ],
    "eip712": [
      "example/lib/example/eip_712/v4_example.dart",
      "example/lib/example/eip_712/legacy_example.dart"
    ],
    "filecoin": [
      "example/lib/example/filecoin/filecoin_example.dart",
      "example/lib/example/filecoin/testnet_example.dart"
    ],
    "tronTransactions": [
      "example/lib/example/tron/transactions/transfer_trx_example.dart",
      "example/lib/example/tron/transactions/multi_sig_transaction_example.dart"
    ],
    "solanaTokenProgram": [
      "example/lib/example/solana/token_program/create_mint_example.dart",
      "example/lib/example/solana/token_program/mint_to_example.dart"
    ]
  },
  "ignoreRules": {
    "source": ".gitignore",
    "patterns": [
      ".dart_tool/",
      ".packages",
      "build/",
      "pubspec.lock",
      "doc/api/",
      ".env*",
      "*.dart.js",
      "*.info.json",
      "*.js",
      "*.js_",
      "*.js.deps",
      "*.js.map",
      ".flutter-plugins",
      ".flutter-plugins-dependencies",
      "*.zip",
      "/.bmad-core"
    ]
  },
  "coverageReport": {
    "totalModules": 7,
    "modulesDocumented": 7,
    "documentationCoverage": "100%",
    "estimatedFileCount": "500+",
    "scannedKeyFiles": "100+",
    "keyFileCoverage": "核心文件 100%",
    "gaps": [
      {
        "area": "Solana 指令细节",
        "location": "lib/solana/src/instructions/",
        "suggestion": "为 Metaplex、SPL Token 等重要程序生成独立子文档"
      },
      {
        "area": "Tron 合约类型",
        "location": "lib/tron/src/models/contract/",
        "suggestion": "按功能分类文档化（余额、资产、智能合约、治理等）"
      },
      {
        "area": "测试覆盖",
        "location": "test/",
        "suggestion": "为 Solana、Solidity、Utils 模块补充独立测试"
      },
      {
        "area": "示例代码索引",
        "location": "example/",
        "suggestion": "生成完整的示例索引表，按功能分类"
      }
    ]
  },
  "nextSteps": [
    "为 Solana 的 20+ 个指令程序生成子模块文档（优先级：高）",
    "为 Tron 的合约类型按功能分组并生成详细文档（优先级：中）",
    "补充 Solana、Solidity、Utils 模块的单元测试（优先级：高）",
    "生成跨模块的示例代码索引与最佳实践指南（优先级：中）",
    "为 example/ 目录生成交互式导航文档（优先级：低）"
  ],
  "truncated": false,
  "truncationReason": null,
  "scanDuration": "估算 5 分钟",
  "generatedBy": "AI Architect (Adaptive Scanner v1.0)",
  "schemaVersion": "1.0"
}
